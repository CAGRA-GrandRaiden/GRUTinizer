<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GRUTinizer: TSmartBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GRUTinizer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTSmartBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TSmartBuffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Holds a char buffer and manages its memory.  
 <a href="classTSmartBuffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TSmartBuffer_8h_source.html">TSmartBuffer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abe2ab9553781b30d2fc1030d14863deb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#abe2ab9553781b30d2fc1030d14863deb">TSmartBuffer</a> ()</td></tr>
<tr class="memdesc:abe2ab9553781b30d2fc1030d14863deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an empty <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>.  <a href="#abe2ab9553781b30d2fc1030d14863deb"></a><br/></td></tr>
<tr class="memitem:a840fbae22eeda0654b0fa6b8ce7d0e3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a840fbae22eeda0654b0fa6b8ce7d0e3f">TSmartBuffer</a> (char *<a class="el" href="JanusDataFormat_8h.html#aa549136fda4886d74d1bf9ccbe35a47e">buffer</a>, size_t <a class="el" href="TRawBanks_8h.html#a19864f36796d7ae943d936f48a9568fb">size</a>)</td></tr>
<tr class="memdesc:a840fbae22eeda0654b0fa6b8ce7d0e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a> from a C-style array.  <a href="#a840fbae22eeda0654b0fa6b8ce7d0e3f"></a><br/></td></tr>
<tr class="memitem:a2e5c5164bc7d4c49a777ffab156ba856"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a2e5c5164bc7d4c49a777ffab156ba856">~TSmartBuffer</a> ()</td></tr>
<tr class="memdesc:a2e5c5164bc7d4c49a777ffab156ba856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs the <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>, free-ing the array, if necessary.  <a href="#a2e5c5164bc7d4c49a777ffab156ba856"></a><br/></td></tr>
<tr class="memitem:aca75035268d401db24bfc72117474d9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#aca75035268d401db24bfc72117474d9c">TSmartBuffer</a> (const <a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;other)</td></tr>
<tr class="memdesc:aca75035268d401db24bfc72117474d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#aca75035268d401db24bfc72117474d9c"></a><br/></td></tr>
<tr class="memitem:aac0e8c2f218da70dcbfbf18167fe6633"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#aac0e8c2f218da70dcbfbf18167fe6633">operator=</a> (<a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> other)</td></tr>
<tr class="memdesc:aac0e8c2f218da70dcbfbf18167fe6633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator.  <a href="#aac0e8c2f218da70dcbfbf18167fe6633"></a><br/></td></tr>
<tr class="memitem:a60a8b0c9f66254da32d7fe4e6c9268ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a60a8b0c9f66254da32d7fe4e6c9268ae">TSmartBuffer</a> (<a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;&amp;other)</td></tr>
<tr class="memdesc:a60a8b0c9f66254da32d7fe4e6c9268ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="#a60a8b0c9f66254da32d7fe4e6c9268ae"></a><br/></td></tr>
<tr class="memitem:a797e1a2184252ae5d4deb8cd6cffb226"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a797e1a2184252ae5d4deb8cd6cffb226">Clear</a> ()</td></tr>
<tr class="memdesc:a797e1a2184252ae5d4deb8cd6cffb226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the object.  <a href="#a797e1a2184252ae5d4deb8cd6cffb226"></a><br/></td></tr>
<tr class="memitem:ab44d7d1936f1cf66f770643b87cd8d83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#ab44d7d1936f1cf66f770643b87cd8d83">SetBuffer</a> (char *<a class="el" href="JanusDataFormat_8h.html#aa549136fda4886d74d1bf9ccbe35a47e">buffer</a>, size_t <a class="el" href="TRawBanks_8h.html#a19864f36796d7ae943d936f48a9568fb">size</a>)</td></tr>
<tr class="memdesc:ab44d7d1936f1cf66f770643b87cd8d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current buffer.  <a href="#ab44d7d1936f1cf66f770643b87cd8d83"></a><br/></td></tr>
<tr class="memitem:ac8ae0d8e5cfe62c17e2693e08a51c2eb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#ac8ae0d8e5cfe62c17e2693e08a51c2eb">GetData</a> () const </td></tr>
<tr class="memdesc:ac8ae0d8e5cfe62c17e2693e08a51c2eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data pointer.  <a href="#ac8ae0d8e5cfe62c17e2693e08a51c2eb"></a><br/></td></tr>
<tr class="memitem:abf8472096827a4291e9f569b8541d609"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#abf8472096827a4291e9f569b8541d609">GetSize</a> () const </td></tr>
<tr class="memdesc:abf8472096827a4291e9f569b8541d609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the array.  <a href="#abf8472096827a4291e9f569b8541d609"></a><br/></td></tr>
<tr class="memitem:ac370519c29022eb23648d2186400d08a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#ac370519c29022eb23648d2186400d08a">BufferSubset</a> (size_t pos, size_t length=-1) const </td></tr>
<tr class="memdesc:ac370519c29022eb23648d2186400d08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a subset of the current array.  <a href="#ac370519c29022eb23648d2186400d08a"></a><br/></td></tr>
<tr class="memitem:aa457f7be69b73c81cf36aa984b2bbee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#aa457f7be69b73c81cf36aa984b2bbee5">Advance</a> (size_t dist)</td></tr>
<tr class="memdesc:aa457f7be69b73c81cf36aa984b2bbee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances the pointer by the amount given.  <a href="#aa457f7be69b73c81cf36aa984b2bbee5"></a><br/></td></tr>
<tr class="memitem:a5f7dadb23a830dae3b95264b3da0e758"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a5f7dadb23a830dae3b95264b3da0e758">Print</a> (Option_t *opt=&quot;&quot;) const </td></tr>
<tr class="memdesc:a5f7dadb23a830dae3b95264b3da0e758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a short description of the <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>.  <a href="#a5f7dadb23a830dae3b95264b3da0e758"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a67adb2e9a1b9b1429ca80b52ec12698c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a67adb2e9a1b9b1429ca80b52ec12698c">swap</a> (<a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;other)</td></tr>
<tr class="memdesc:a67adb2e9a1b9b1429ca80b52ec12698c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps the contents of two TSmartBuffers.  <a href="#a67adb2e9a1b9b1429ca80b52ec12698c"></a><br/></td></tr>
<tr class="memitem:aba8039d23e209cab49dda6d750855895"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#aba8039d23e209cab49dda6d750855895">ClassDef</a> (<a class="el" href="classTSmartBuffer.html">TSmartBuffer</a>, 0)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3330e969e14a39b2b2806055fa4a4681"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a3330e969e14a39b2b2806055fa4a4681">fAllocatedLocation</a></td></tr>
<tr class="memdesc:a3330e969e14a39b2b2806055fa4a4681"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pointer that was allocated by malloc().  <a href="#a3330e969e14a39b2b2806055fa4a4681"></a><br/></td></tr>
<tr class="memitem:aee6a4665b3626fac717ccfb18cf48bf7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#aee6a4665b3626fac717ccfb18cf48bf7">fData</a></td></tr>
<tr class="memdesc:aee6a4665b3626fac717ccfb18cf48bf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pointer to the current data.  <a href="#aee6a4665b3626fac717ccfb18cf48bf7"></a><br/></td></tr>
<tr class="memitem:a61245215e11d88734d5aed4707247dc6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a61245215e11d88734d5aed4707247dc6">fSize</a></td></tr>
<tr class="memdesc:a61245215e11d88734d5aed4707247dc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the current subset of the data.  <a href="#a61245215e11d88734d5aed4707247dc6"></a><br/></td></tr>
<tr class="memitem:a0469da2d80b3f5127ae34233ba00221b"><td class="memItemLeft" align="right" valign="top">std::atomic_int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTSmartBuffer.html#a0469da2d80b3f5127ae34233ba00221b">fReferenceCount</a></td></tr>
<tr class="memdesc:a0469da2d80b3f5127ae34233ba00221b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of the reference count.  <a href="#a0469da2d80b3f5127ae34233ba00221b"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Holds a char buffer and manages its memory. </p>
<p><a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a> holds a char buffer, and deletes it at the appropriate time. This is done in a threadsafe manner. Subsets of the buffer can be made without copying the underlying C-style array. The underlying C-style array will be free'd only when no references to the buffer, nor to subsets of the buffer, exist.</p>
<p><a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a> is intended to be lightweight, and cheap to pass by value. </p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abe2ab9553781b30d2fc1030d14863deb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::TSmartBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an empty <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>. </p>
<p>The data pointer will be set to NULL The size will be equal to zero. </p>

</div>
</div>
<a class="anchor" id="a840fbae22eeda0654b0fa6b8ce7d0e3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::TSmartBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a> from a C-style array. </p>
<p>The buffer must have been allocated using malloc. The buffer must not be managed by another <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>. Once constructed, the buffer belongs to the object, which will call free() on it accordingly. </p>

</div>
</div>
<a class="anchor" id="a2e5c5164bc7d4c49a777ffab156ba856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::~TSmartBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructs the <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>, free-ing the array, if necessary. </p>
<p>The <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a> will call free() on the underlying C-style array if it is the last reference to that array. </p>

</div>
</div>
<a class="anchor" id="aca75035268d401db24bfc72117474d9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::TSmartBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor. </p>

</div>
</div>
<a class="anchor" id="a60a8b0c9f66254da32d7fe4e6c9268ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::TSmartBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move constructor. </p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="aa457f7be69b73c81cf36aa984b2bbee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSmartBuffer::Advance </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances the pointer by the amount given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dist</td><td>The distance by which the pointer should be advanced.</td></tr>
  </table>
  </dd>
</dl>
<p>If the buffer cannot be advanced that far, the pointer will be advanced to the end of the buffer. </p>

</div>
</div>
<a class="anchor" id="ac370519c29022eb23648d2186400d08a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> TSmartBuffer::BufferSubset </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a subset of the current array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The position of the start of the subset of the buffer. Should range from 0 to <a class="el" href="classTSmartBuffer.html#abf8472096827a4291e9f569b8541d609" title="Returns the size of the array.">GetSize()</a>-1.</td></tr>
    <tr><td class="paramname">length</td><td>The length of the subset of the buffer. If equal to -1, then the remainder of the buffer is used.</td></tr>
  </table>
  </dd>
</dl>
<p>The object returned will point to a subset of the the existing buffer. The underlying array is not copied. free() will only be called on the underlying array once no references to the array or any of its subsets remain. </p>

</div>
</div>
<a class="anchor" id="aba8039d23e209cab49dda6d750855895"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TSmartBuffer::ClassDef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a797e1a2184252ae5d4deb8cd6cffb226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSmartBuffer::Clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the object. </p>
<p>The object will be left in the same state as if it had just been constructed by <a class="el" href="classTSmartBuffer.html#abe2ab9553781b30d2fc1030d14863deb" title="Constructs an empty TSmartBuffer.">TSmartBuffer()</a>. This does not need to be called prior to the object begin destructed. </p>

</div>
</div>
<a class="anchor" id="ac8ae0d8e5cfe62c17e2693e08a51c2eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* TSmartBuffer::GetData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the data pointer. </p>
<p>If the object does not currently hold a buffer, returns NULL. Otherwise, the result is the location of the data buffer. Reads from the location of <a class="el" href="classTSmartBuffer.html#ac8ae0d8e5cfe62c17e2693e08a51c2eb" title="Returns the data pointer.">GetData()</a> to <a class="el" href="classTSmartBuffer.html#ac8ae0d8e5cfe62c17e2693e08a51c2eb" title="Returns the data pointer.">GetData()</a>+GetSize()-1 are valid. </p>

</div>
</div>
<a class="anchor" id="abf8472096827a4291e9f569b8541d609"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t TSmartBuffer::GetSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the size of the array. </p>
<p>The size returned is the size of the current buffer. This may not correspond to the size of the buffer passed in, depending on the use of BufferSubset. </p>

</div>
</div>
<a class="anchor" id="aac0e8c2f218da70dcbfbf18167fe6633"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp; TSmartBuffer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a>&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assignment operator. </p>

</div>
</div>
<a class="anchor" id="a5f7dadb23a830dae3b95264b3da0e758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSmartBuffer::Print </td>
          <td>(</td>
          <td class="paramtype">Option_t *&#160;</td>
          <td class="paramname"><em>opt</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a short description of the <a class="el" href="classTSmartBuffer.html" title="Holds a char buffer and manages its memory.">TSmartBuffer</a>. </p>

</div>
</div>
<a class="anchor" id="ab44d7d1936f1cf66f770643b87cd8d83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSmartBuffer::SetBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current buffer. </p>
<p>The object will be left in the same state as if it had just been constructed by TSmartBuffer(buffer, size). </p>

</div>
</div>
<a class="anchor" id="a67adb2e9a1b9b1429ca80b52ec12698c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TSmartBuffer::swap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTSmartBuffer.html">TSmartBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swaps the contents of two TSmartBuffers. </p>
<p>For internal use only. </p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a3330e969e14a39b2b2806055fa4a4681"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* TSmartBuffer::fAllocatedLocation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pointer that was allocated by malloc(). </p>
<p>free() will be called on this location only when the last reference to it is deleted. All buffer subsets share this value. </p>

</div>
</div>
<a class="anchor" id="aee6a4665b3626fac717ccfb18cf48bf7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* TSmartBuffer::fData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pointer to the current data. </p>

</div>
</div>
<a class="anchor" id="a0469da2d80b3f5127ae34233ba00221b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_int* TSmartBuffer::fReferenceCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The location of the reference count. </p>

</div>
</div>
<a class="anchor" id="a61245215e11d88734d5aed4707247dc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t TSmartBuffer::fSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The size of the current subset of the data. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="TSmartBuffer_8h_source.html">TSmartBuffer.h</a></li>
<li>libraries/TRawFormat/<a class="el" href="TSmartBuffer_8cxx.html">TSmartBuffer.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 4 2015 17:27:57 for GRUTinizer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
